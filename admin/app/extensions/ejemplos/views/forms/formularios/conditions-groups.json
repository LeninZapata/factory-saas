{
  "id": "form-conditions-groups",
  "title": "Condiciones con Grupos",
  "description": "Ejemplos de condiciones que muestran/ocultan grupos completos de campos",
  "fields": [
    {
      "type": "html",
      "content": "<div class='alert alert-info alert-header'><div class='alert-title'>üéØ Condiciones con Grupos</div><div class='alert-body'><p>Los <code>type: \"group\"</code> pueden tener condiciones para mostrar/ocultar m√∫ltiples campos a la vez. Especialmente √∫til dentro de repetables con <code>conditionContext: \"repeatable\"</code>.</p></div></div>"
    },
    {
      "type": "html",
      "content": "<h3 style='margin: 2rem 0 1rem;'>üì¶ Ejemplo 1: Grupo Simple (Fuera de Repeatable)</h3><p style='color: #64748b; margin-bottom: 1rem;'>Grupo que se muestra cuando seleccionas una opci√≥n espec√≠fica.</p>"
    },
    {
      "name": "tipo_producto",
      "label": "Tipo de Producto",
      "type": "select",
      "required": true,
      "options": [
        {
          "value": "",
          "label": "Selecciona un tipo..."
        },
        {
          "value": "fisico",
          "label": "üì¶ Producto F√≠sico"
        },
        {
          "value": "digital",
          "label": "üíø Producto Digital"
        },
        {
          "value": "servicio",
          "label": "üõ†Ô∏è Servicio"
        }
      ]
    },
    {
      "name": "grupo_envio",
      "type": "group",
      "columns": 3,
      "gap": "normal",
      "condition": [
        {
          "field": "tipo_producto",
          "operator": "==",
          "value": "fisico"
        }
      ],
      "conditionContext": "form",
      "fields": [
        {
          "name": "peso",
          "label": "Peso (kg)",
          "type": "number",
          "placeholder": "1.5",
          "min": 0,
          "step": 0.01
        },
        {
          "name": "dimensiones",
          "label": "Dimensiones (cm)",
          "type": "text",
          "placeholder": "30x20x10"
        },
        {
          "name": "fragil",
          "label": "üî¥ Fr√°gil",
          "type": "checkbox"
        }
      ]
    },
    {
      "name": "grupo_descarga",
      "type": "group",
      "columns": 2,
      "gap": "normal",
      "condition": [
        {
          "field": "tipo_producto",
          "operator": "==",
          "value": "digital"
        }
      ],
      "conditionContext": "form",
      "fields": [
        {
          "name": "url_descarga",
          "label": "URL de Descarga",
          "type": "text",
          "placeholder": "https://..."
        },
        {
          "name": "tamano_archivo",
          "label": "Tama√±o (MB)",
          "type": "number",
          "placeholder": "150",
          "min": 0
        }
      ]
    },
    {
      "type": "html",
      "content": "<hr style='margin: 3rem 0; border: none; border-top: 2px solid #e2e8f0;'>"
    },
    {
      "type": "html",
      "content": "<h3 style='margin: 2rem 0 1rem;'>üîÑ Ejemplo 2: Grupos con Select + Checkbox (Fuera de Repeatable)</h3><p style='color: #64748b; margin-bottom: 1rem;'>Un select muestra un grupo, y un checkbox dentro de ese grupo muestra otro grupo.</p>"
    },
    {
      "name": "tiene_facturacion",
      "label": "¬øRequiere Facturaci√≥n?",
      "type": "select",
      "options": [
        {
          "value": "",
          "label": "Selecciona..."
        },
        {
          "value": "si",
          "label": "‚úÖ S√≠"
        },
        {
          "value": "no",
          "label": "‚ùå No"
        }
      ]
    },
    {
      "name": "grupo_facturacion_basica",
      "type": "group",
      "columns": 2,
      "gap": "normal",
      "condition": [
        {
          "field": "tiene_facturacion",
          "operator": "==",
          "value": "si"
        }
      ],
      "conditionContext": "form",
      "fields": [
        {
          "name": "ruc",
          "label": "RUC / NIT",
          "type": "text",
          "placeholder": "1234567890001",
          "required": true
        },
        {
          "name": "razon_social",
          "label": "Raz√≥n Social",
          "type": "text",
          "placeholder": "Empresa XYZ S.A.",
          "required": true
        },
        {
          "name": "es_empresa_grande",
          "label": "üè¢ ¬øEs empresa grande? (>100 empleados)",
          "type": "checkbox"
        }
      ]
    },
    {
      "name": "grupo_facturacion_avanzada",
      "type": "group",
      "columns": 2,
      "gap": "normal",
      "condition": [
        {
          "field": "tiene_facturacion",
          "operator": "==",
          "value": "si"
        },
        {
          "field": "es_empresa_grande",
          "operator": "==",
          "value": true
        }
      ],
      "conditionLogic": "AND",
      "conditionContext": "form",
      "fields": [
        {
          "name": "rep_legal",
          "label": "Representante Legal",
          "type": "text",
          "placeholder": "Juan P√©rez"
        },
        {
          "name": "codigo_contable",
          "label": "C√≥digo Contable",
          "type": "text",
          "placeholder": "CC-2024-001"
        }
      ]
    },
    {
      "type": "html",
      "content": "<hr style='margin: 3rem 0; border: none; border-top: 2px solid #e2e8f0;'>"
    },
    {
      "type": "html",
      "content": "<h3 style='margin: 2rem 0 1rem;'>üîÅ Ejemplo 3: Grupos en Repeatable (conditionContext: \"repeatable\")</h3><p style='color: #64748b; margin-bottom: 1rem;'>Cada item del repeatable eval√∫a sus condiciones independientemente.</p>"
    },
    {
      "name": "campanas",
      "label": "üì¢ Campa√±as Publicitarias",
      "type": "repeatable",
      "accordion": true,
      "headerTitle": "Campa√±a #{index}",
      "addText": "‚ûï Agregar Campa√±a",
      "removeText": "üóëÔ∏è",
      "fields": [
        {
          "type": "html",
          "content": "<div class='alert alert-warning alert-filled'><strong>üí° conditionContext: \"repeatable\"</strong><br>Las condiciones se eval√∫an dentro de cada item independientemente</div>"
        },
        {
          "name": "nombre_campana",
          "label": "Nombre de la Campa√±a",
          "type": "text",
          "placeholder": "Black Friday 2024",
          "required": true
        },
        {
          "name": "tipo_campana",
          "label": "Tipo de Campa√±a",
          "type": "select",
          "required": true,
          "options": [
            {
              "value": "",
              "label": "Selecciona..."
            },
            {
              "value": "email",
              "label": "üìß Email Marketing"
            },
            {
              "value": "redes",
              "label": "üì± Redes Sociales"
            },
            {
              "value": "anuncios",
              "label": "üí∞ Anuncios Pagados"
            }
          ]
        },
        {
          "name": "grupo_email",
          "type": "group",
          "columns": 2,
          "gap": "normal",
          "condition": [
            {
              "field": "tipo_campana",
              "operator": "==",
              "value": "email"
            }
          ],
          "conditionContext": "repeatable",
          "fields": [
            {
              "name": "asunto",
              "label": "Asunto del Email",
              "type": "text",
              "placeholder": "¬°Ofertas incre√≠bles!"
            },
            {
              "name": "lista_emails",
              "label": "Lista de Emails",
              "type": "select",
              "options": [
                {
                  "value": "clientes",
                  "label": "Clientes Activos"
                },
                {
                  "value": "prospectos",
                  "label": "Prospectos"
                },
                {
                  "value": "todos",
                  "label": "Todos"
                }
              ]
            }
          ]
        },
        {
          "name": "grupo_redes",
          "type": "group",
          "columns": 3,
          "gap": "normal",
          "condition": [
            {
              "field": "tipo_campana",
              "operator": "==",
              "value": "redes"
            }
          ],
          "conditionContext": "repeatable",
          "fields": [
            {
              "name": "facebook",
              "label": "üìò Facebook",
              "type": "checkbox"
            },
            {
              "name": "instagram",
              "label": "üì∑ Instagram",
              "type": "checkbox"
            },
            {
              "name": "twitter",
              "label": "üê¶ Twitter",
              "type": "checkbox"
            }
          ]
        },
        {
          "name": "grupo_anuncios",
          "type": "group",
          "columns": 2,
          "gap": "normal",
          "condition": [
            {
              "field": "tipo_campana",
              "operator": "==",
              "value": "anuncios"
            }
          ],
          "conditionContext": "repeatable",
          "fields": [
            {
              "name": "presupuesto_diario",
              "label": "Presupuesto Diario ($)",
              "type": "number",
              "placeholder": "50",
              "min": 0,
              "step": 0.01
            },
            {
              "name": "plataforma_ads",
              "label": "Plataforma",
              "type": "select",
              "options": [
                {
                  "value": "google",
                  "label": "Google Ads"
                },
                {
                  "value": "facebook",
                  "label": "Facebook Ads"
                },
                {
                  "value": "linkedin",
                  "label": "LinkedIn Ads"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "html",
      "content": "<hr style='margin: 3rem 0; border: none; border-top: 2px solid #e2e8f0;'>"
    },
    {
      "type": "html",
      "content": "<h3 style='margin: 2rem 0 1rem;'>üé® Ejemplo 4: Cascada de Grupos en Repeatable</h3><p style='color: #64748b; margin-bottom: 1rem;'>Select ‚Üí muestra grupo 1 ‚Üí checkbox en grupo 1 ‚Üí muestra grupo 2</p>"
    },
    {
      "name": "acciones_marketing",
      "label": "üéØ Acciones de Marketing",
      "type": "repeatable",
      "accordion": true,
      "headerTitle": "Acci√≥n #{index}",
      "addText": "‚ûï Nueva Acci√≥n",
      "removeText": "üóëÔ∏è",
      "fields": [
        {
          "type": "html",
          "content": "<div class='alert alert-info alert-filled'><strong>üí° Cascada de condiciones</strong><br>Selecciona \"Aumentar Presupuesto\" ‚Üí muestra grupo con campos ‚Üí marca el checkbox ‚Üí muestra otro grupo</div>"
        },
        {
          "name": "tipo_accion",
          "label": "Tipo de Acci√≥n",
          "type": "select",
          "required": true,
          "options": [
            {
              "value": "",
              "label": "Selecciona una acci√≥n..."
            },
            {
              "value": "pausar",
              "label": "‚è∏Ô∏è Pausar Campa√±a"
            },
            {
              "value": "aumentar",
              "label": "üìà Aumentar Presupuesto"
            },
            {
              "value": "reducir",
              "label": "üìâ Reducir Presupuesto"
            }
          ]
        },
        {
          "name": "grupo_ajuste_presupuesto",
          "type": "group",
          "columns": 3,
          "gap": "normal",
          "condition": [
            {
              "field": "tipo_accion",
              "operator": "any",
              "value": "aumentar,reducir"
            }
          ],
          "conditionContext": "repeatable",
          "fields": [
            {
              "name": "porcentaje",
              "label": "Porcentaje (%)",
              "type": "number",
              "placeholder": "20",
              "min": 1,
              "max": 100,
              "step": 1
            },
            {
              "name": "limite",
              "label": "L√≠mite ($)",
              "type": "number",
              "placeholder": "500",
              "min": 0,
              "step": 0.01
            },
            {
              "name": "requiere_aprobacion",
              "label": "üîê ¬øRequiere Aprobaci√≥n?",
              "type": "checkbox"
            }
          ]
        },
        {
          "name": "grupo_aprobacion",
          "type": "group",
          "columns": 2,
          "gap": "normal",
          "condition": [
            {
              "field": "tipo_accion",
              "operator": "any",
              "value": "aumentar,reducir"
            },
            {
              "field": "requiere_aprobacion",
              "operator": "==",
              "value": true
            }
          ],
          "conditionLogic": "AND",
          "conditionContext": "repeatable",
          "fields": [
            {
              "name": "aprobador",
              "label": "Persona que Aprueba",
              "type": "select",
              "options": [
                {
                  "value": "gerente",
                  "label": "üëî Gerente de Marketing"
                },
                {
                  "value": "director",
                  "label": "üé© Director"
                },
                {
                  "value": "ceo",
                  "label": "üëë CEO"
                }
              ]
            },
            {
              "name": "justificacion",
              "label": "Justificaci√≥n",
              "type": "textarea",
              "placeholder": "Explica por qu√© es necesario este cambio...",
              "rows": 3
            }
          ]
        }
      ]
    },
    {
      "type": "html",
      "content": "<hr style='margin: 3rem 0; border: none; border-top: 2px solid #e2e8f0;'>"
    },
    {
      "type": "html",
      "content": "<h3 style='margin: 2rem 0 1rem;'>üöÄ Ejemplo 5: M√∫ltiples Grupos en Repeatable</h3><p style='color: #64748b; margin-bottom: 1rem;'>Diferentes grupos se muestran seg√∫n la opci√≥n seleccionada en el mismo item.</p>"
    },
    {
      "name": "tareas_proyecto",
      "label": "‚úÖ Tareas del Proyecto",
      "type": "repeatable",
      "accordion": true,
      "sortable": true,
      "headerTitle": "Tarea #{index}",
      "addText": "‚ûï Nueva Tarea",
      "removeText": "üóëÔ∏è",
      "fields": [
        {
          "name": "nombre_tarea",
          "label": "Nombre de la Tarea",
          "type": "text",
          "placeholder": "Desarrollar m√≥dulo de usuarios",
          "required": true
        },
        {
          "type": "group",
          "columns": 2,
          "gap": "normal",
          "fields": [
            {
              "name": "tipo_tarea",
              "label": "Tipo de Tarea",
              "type": "select",
              "required": true,
              "options": [
                {
                  "value": "",
                  "label": "Selecciona..."
                },
                {
                  "value": "desarrollo",
                  "label": "üíª Desarrollo"
                },
                {
                  "value": "diseno",
                  "label": "üé® Dise√±o"
                },
                {
                  "value": "testing",
                  "label": "üß™ Testing"
                },
                {
                  "value": "documentacion",
                  "label": "üìù Documentaci√≥n"
                }
              ]
            },
            {
              "name": "prioridad",
              "label": "Prioridad",
              "type": "select",
              "options": [
                {
                  "value": "baja",
                  "label": "üü¢ Baja"
                },
                {
                  "value": "media",
                  "label": "üü° Media"
                },
                {
                  "value": "alta",
                  "label": "üî¥ Alta"
                },
                {
                  "value": "critica",
                  "label": "üö® Cr√≠tica"
                }
              ]
            }
          ]
        },
        {
          "name": "grupo_desarrollo",
          "type": "group",
          "columns": 2,
          "gap": "normal",
          "condition": [
            {
              "field": "tipo_tarea",
              "operator": "==",
              "value": "desarrollo"
            }
          ],
          "conditionContext": "repeatable",
          "fields": [
            {
              "name": "lenguaje",
              "label": "Lenguaje",
              "type": "select",
              "options": [
                {
                  "value": "javascript",
                  "label": "JavaScript"
                },
                {
                  "value": "python",
                  "label": "Python"
                },
                {
                  "value": "java",
                  "label": "Java"
                },
                {
                  "value": "php",
                  "label": "PHP"
                }
              ]
            },
            {
              "name": "lineas_codigo_estimadas",
              "label": "L√≠neas de C√≥digo (est.)",
              "type": "number",
              "placeholder": "500",
              "min": 0
            }
          ]
        },
        {
          "name": "grupo_diseno",
          "type": "group",
          "columns": 2,
          "gap": "normal",
          "condition": [
            {
              "field": "tipo_tarea",
              "operator": "==",
              "value": "diseno"
            }
          ],
          "conditionContext": "repeatable",
          "fields": [
            {
              "name": "herramienta_diseno",
              "label": "Herramienta",
              "type": "select",
              "options": [
                {
                  "value": "figma",
                  "label": "Figma"
                },
                {
                  "value": "sketch",
                  "label": "Sketch"
                },
                {
                  "value": "adobe_xd",
                  "label": "Adobe XD"
                },
                {
                  "value": "photoshop",
                  "label": "Photoshop"
                }
              ]
            },
            {
              "name": "num_pantallas",
              "label": "N√∫mero de Pantallas",
              "type": "number",
              "placeholder": "5",
              "min": 1
            }
          ]
        },
        {
          "name": "grupo_testing",
          "type": "group",
          "columns": 3,
          "gap": "normal",
          "condition": [
            {
              "field": "tipo_tarea",
              "operator": "==",
              "value": "testing"
            }
          ],
          "conditionContext": "repeatable",
          "fields": [
            {
              "name": "tipo_testing",
              "label": "Tipo de Testing",
              "type": "select",
              "options": [
                {
                  "value": "unitario",
                  "label": "Unitario"
                },
                {
                  "value": "integracion",
                  "label": "Integraci√≥n"
                },
                {
                  "value": "e2e",
                  "label": "End-to-End"
                },
                {
                  "value": "manual",
                  "label": "Manual"
                }
              ]
            },
            {
              "name": "cobertura_esperada",
              "label": "Cobertura (%)",
              "type": "number",
              "placeholder": "80",
              "min": 0,
              "max": 100
            },
            {
              "name": "automatizado",
              "label": "‚úÖ Automatizado",
              "type": "checkbox"
            }
          ]
        },
        {
          "name": "grupo_documentacion",
          "type": "group",
          "columns": 2,
          "gap": "normal",
          "condition": [
            {
              "field": "tipo_tarea",
              "operator": "==",
              "value": "documentacion"
            }
          ],
          "conditionContext": "repeatable",
          "fields": [
            {
              "name": "tipo_doc",
              "label": "Tipo de Documento",
              "type": "select",
              "options": [
                {
                  "value": "api",
                  "label": "API"
                },
                {
                  "value": "usuario",
                  "label": "Manual de Usuario"
                },
                {
                  "value": "tecnica",
                  "label": "Documentaci√≥n T√©cnica"
                },
                {
                  "value": "arquitectura",
                  "label": "Arquitectura"
                }
              ]
            },
            {
              "name": "paginas_estimadas",
              "label": "P√°ginas (est.)",
              "type": "number",
              "placeholder": "10",
              "min": 1
            }
          ]
        },
        {
          "name": "notas",
          "label": "Notas Adicionales",
          "type": "textarea",
          "placeholder": "Cualquier informaci√≥n adicional sobre esta tarea...",
          "rows": 2
        }
      ]
    }
  ]
}