
# Backend
## Helpers en el sistema

Actualmente, los helpers disponibles en el sistema se encuentran en la carpeta `/backend/framework/helpers/`:

ogCache, ogCountry, ogDb, ogFile, ogHttp, ogLang, ogLog, ogLogReader, ogRequest, ogResponse, ogRouteDiscovery, ogStr, ogSystem, ogUrl, ogUtils, ogValidation

### Carga de helpers

El sistema carga automáticamente los siguientes helpers críticos (ver archivo `/backend/framework/config/requires.php`):

ogLang, ogLog, ogResponse, ogRequest, ogDb

Estos helpers se pueden acceder directamente usando la clase estática, por ejemplo:

```php
ogUtils::function();
```

El resto de los helpers se deben cargar manualmente usando:

```php
ogApp()->helper('nombre_helper')::funcion();
// tambien lo puedes cargar mediante rutas en caso el handler|controller|helper es en niveles de carpetas
ogApp()->hanlder('folder/client')
```

Por lo general, los helpers son estáticos y se acceden directamente por clase.

Otros
- cuando pongas los ogLog si tiene 3 parametros o ningun entonces este debe ser escrito inline
- los key de idioma se llemana asi " title: 'i18n:key.de.idioma' " sin agregar el {}, los {} se agregan cuando el idoma esta dentro de un string tipo "content: " hola como {i18n:como_estas} "
- los JSON de schemas no van con "-" sino van camecase ejemplo: no van asi product-ad-asset sino asi productAdAsset-
- en los JSON de los formularios d ellenan con el campo fields no con content, content sirve para llenar estructuras html u otro campos que puedes ser componentes.
- Consultas con query directo si no hay mas que 1 where, es decir
$res = ogDb::table('product_ad_assets')->where('product_id', $productId)->get();
esto se hace inline, pero si existe 2 o 3 where pues ya lo puedes hacer multilinea
- cuando lso return tiene 3 keys o menos entonces esto es inline
- en los armados de json usar \" cuando necesites usar una segundo nivel de comillas, ejemplo:
```
{
  "id": "onload-demo",
  "content": [
    {
      "type": "html",
      "content": "<div class='hola'></div><script>document.getElementById('onload-demo-info'); if(div){ var msg = '<div class=\"asi-pone-un-segundo-nivel-de-comillas\"></div>'; }</script>"
    }
  ]
}
```