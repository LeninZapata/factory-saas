{
  "id": "conditions-repeatable",
  "title": "Condiciones en Repetibles",
  "description": "âš¡ Las condiciones se evalÃºan DENTRO de cada item del repeatable. Cada proyecto es independiente.",
  "fields": [
    {
      "name": "proyectos",
      "label": "ðŸ“ Proyectos",
      "type": "repeatable",
      "addText": "âž• Agregar Proyecto",
      "removeText": "ðŸ—‘ï¸ Eliminar",
      "fields": [
        {
          "name": "nombre_proyecto",
          "label": "Nombre del Proyecto",
          "type": "text",
          "required": true,
          "placeholder": "Ej: Sistema de Ventas"
        },
        {
          "name": "tipo_proyecto",
          "label": "â­ Tipo de Proyecto (cambia esto para ver condiciones)",
          "type": "select",
          "options": [
            { "value": "web", "label": "ðŸŒ Web" },
            { "value": "mobile", "label": "ðŸ“± Mobile" },
            { "value": "desktop", "label": "ðŸ’» Desktop" },
            { "value": "api", "label": "ðŸ”Œ API" }
          ]
        },
        {
          "name": "tecnologia_web",
          "label": "âœ¨ TecnologÃ­a Web (solo si tipo = Web)",
          "type": "select",
          "options": [
            { "value": "react", "label": "âš›ï¸ React" },
            { "value": "vue", "label": "ðŸ’š Vue.js" },
            { "value": "angular", "label": "ðŸ…°ï¸ Angular" },
            { "value": "vanilla", "label": "ðŸ¦ Vanilla JS" }
          ],
          "condition": [
            { "field": "tipo_proyecto", "operator": "==", "value": "web" }
          ],
          "conditionContext": "repeatable"
        },
        {
          "name": "plataforma_mobile",
          "label": "ðŸ“± Plataforma MÃ³vil (solo si tipo = Mobile)",
          "type": "select",
          "options": [
            { "value": "ios", "label": "ðŸŽ iOS" },
            { "value": "android", "label": "ðŸ¤– Android" },
            { "value": "cross", "label": "ðŸ“± Multiplataforma" }
          ],
          "condition": [
            { "field": "tipo_proyecto", "operator": "==", "value": "mobile" }
          ],
          "conditionContext": "repeatable"
        },
        {
          "name": "framework_mobile",
          "label": "ðŸ”§ Framework (solo si plataforma = Multiplataforma)",
          "type": "select",
          "options": [
            { "value": "react-native", "label": "âš›ï¸ React Native" },
            { "value": "flutter", "label": "ðŸŽ¯ Flutter" },
            { "value": "ionic", "label": "âš¡ Ionic" }
          ],
          "condition": [
            { "field": "plataforma_mobile", "operator": "==", "value": "cross" }
          ],
          "conditionContext": "repeatable"
        },
        {
          "name": "lenguaje_desktop",
          "label": "ðŸ’» Lenguaje Desktop (solo si tipo = Desktop)",
          "type": "select",
          "options": [
            { "value": "electron", "label": "âš¡ Electron" },
            { "value": "qt", "label": "ðŸ”· Qt" },
            { "value": "dotnet", "label": "ðŸ”µ .NET" },
            { "value": "java", "label": "â˜• Java" }
          ],
          "condition": [
            { "field": "tipo_proyecto", "operator": "==", "value": "desktop" }
          ],
          "conditionContext": "repeatable"
        },
        {
          "name": "presupuesto",
          "label": "ðŸ’° Presupuesto ($) - Escribe mÃ¡s de 10000",
          "type": "number",
          "placeholder": "0.00",
          "min": 0,
          "step": 0.01
        },
        {
          "name": "alerta_presupuesto",
          "label": "âš ï¸ Presupuesto Alto",
          "type": "text",
          "value": "âš ï¸ Este proyecto requiere aprobaciÃ³n especial",
          "readonly": true,
          "condition": [
            { "field": "presupuesto", "operator": ">", "value": 10000 }
          ],
          "conditionContext": "repeatable"
        },
        {
          "name": "tiene_fases",
          "label": "ðŸ”„ Â¿Este proyecto tiene fases? (activa para ver repetible anidado)",
          "type": "checkbox"
        },
        {
          "name": "fases",
          "label": "ðŸ“‹ Fases del Proyecto",
          "type": "repeatable",
          "addText": "âž• Agregar Fase",
          "removeText": "âŒ Eliminar Fase",
          "condition": [
            { "field": "tiene_fases", "operator": "==", "value": true }
          ],
          "conditionContext": "repeatable",
          "fields": [
            {
              "name": "nombre_fase",
              "label": "Nombre de la Fase",
              "type": "text",
              "placeholder": "Ej: AnÃ¡lisis, Desarrollo, Testing",
              "required": true
            },
            {
              "name": "tipo_fase",
              "label": "â­ Tipo de Fase",
              "type": "select",
              "options": [
                { "value": "analisis", "label": "ðŸ“Š AnÃ¡lisis" },
                { "value": "diseno", "label": "ðŸŽ¨ DiseÃ±o" },
                { "value": "desarrollo", "label": "ðŸ’» Desarrollo" },
                { "value": "testing", "label": "ðŸ§ª Testing" }
              ]
            },
            {
              "name": "herramientas_diseno",
              "label": "ðŸŽ¨ Herramientas de DiseÃ±o (solo si tipo = DiseÃ±o)",
              "type": "select",
              "options": [
                { "value": "figma", "label": "Figma" },
                { "value": "sketch", "label": "Sketch" },
                { "value": "xd", "label": "Adobe XD" },
                { "value": "photoshop", "label": "Photoshop" }
              ],
              "condition": [
                { "field": "tipo_fase", "operator": "==", "value": "diseno" }
              ],
              "conditionContext": "repeatable"
            },
            {
              "name": "metodologia_testing",
              "label": "ðŸ§ª MetodologÃ­a de Testing (solo si tipo = Testing)",
              "type": "select",
              "options": [
                { "value": "manual", "label": "Manual" },
                { "value": "automatizado", "label": "Automatizado" },
                { "value": "mixto", "label": "Mixto" }
              ],
              "condition": [
                { "field": "tipo_fase", "operator": "==", "value": "testing" }
              ],
              "conditionContext": "repeatable"
            },
            {
              "name": "duracion_dias",
              "label": "â±ï¸ DuraciÃ³n (dÃ­as)",
              "type": "number",
              "placeholder": "0",
              "min": 0,
              "step": 1
            },
            {
              "name": "alerta_fase_larga",
              "label": "âš ï¸ Fase muy larga",
              "type": "text",
              "value": "âš ï¸ Esta fase dura mÃ¡s de 30 dÃ­as",
              "readonly": true,
              "condition": [
                { "field": "duracion_dias", "operator": ">", "value": 30 }
              ],
              "conditionContext": "repeatable"
            }
          ]
        }
      ]
    }
  ],
  "statusbar": [
    {
      "name": "info",
      "type": "button",
      "label": "ðŸ’¡ CÃ³mo funciona",
      "onclick": ""
    },
    {
      "name": "submit",
      "type": "button",
      "label": "ðŸ’¾ Guardar Proyectos",
      "action": "submit",
      "onclick": "event.preventDefault(); const data = form.getData(this.closest('form').id); console.log('Proyectos:', data); toast.success('âœ… Proyectos guardados');"
    }
  ]
}